/*
https://www.reddit.com/r/FirefoxCSS/comments/7dkhuh/color_your_url_bar_based_on_website_security/
https://fosspost.org/tutorials/how-to-customize-firefox-57-user-interface
https://github.com/Aris-t2/CustomCSSforFx
https://github.com/FirefoxBar/userChrome.js-Collections-
https://github.com/overdodactyl/ShadowFox
https://developer.mozilla.org/en-US/docs/tag/XUL_Tutorial
https://github.com/Timvde/UserChrome-Tweaks
https://github.com/bogachenko/freefox/blob/master/firefox/chrome/userChrome.css
https://github.com/Izheil/Quantum-Nox-Firefox-Dark-Full-Theme/blob/master/Theme%20features/userChrome.css
*/

@namespace url("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul");


/* Removed space before the first tab */
.titlebar-spacer[type="pre-tabs"] {
    display: none !important;
}

/* hide annoying tracking icon in url bar */
#tracking-protection-icon-box {
  display: none !important;
}

/* Remove Temporary Container icon */
toolbarbutton[label*='Temporary Container'] {
  display: none;
}
#userContext-label {
  color: var(--toolbar-color) !important;
}

/* Menu customization */
#appMenu-edit-controls,
#appMenu-library-button,
#appMenuRestoreLastSession,
#context_bookmarkTab,
#context_closeOtherTabs,
#context_closeTab,
#context_closeTabsToTheEnd,
#context_duplicateTab,
#context_moveTabOptions,
#context_selectAllTabs {
    display: none !important;
}


/* make active tab more visible
toolbar {
  --toolbar-bgcolor: rgb(68, 72, 76);
  --lwt-toolbar-field-background-color: rgb(34, 38, 42);
} */

/* make sidebar lighter
.sidebar-placesTreechildren {
	color: black;
	background-color: rgb(249,249,250);
}
.sidebar-placesTreechildren::-moz-tree-image {
  color: black !important;
}
.sidebar-placesTreechildren::-moz-tree-cell-text {
  color: black !important;
} */

/* only show close buttons on tabs when hovering */
.tabbrowser-tab .tab-close-button {
  display: none !important;
}
.tabbrowser-tab:hover .tab-close-button {
  display: -moz-box !important;
}
/* sound icon position fix*/
.tabbrowser-tab .tab-icon-sound {
  margin-right: 18px;
}
.tabbrowser-tab:hover .tab-icon-sound {
  margin-right: 0px;
}


/* urlbar colorization */
#urlbar {
  position: relative;
  z-index: 1;
}
#identity-box:after {
  content: '';
  position: absolute;
  height: 100%;
  width: 100%;
  top: 0;
  left: 0;
  pointer-events: none;
  z-index: -1;
  opacity: .2;
}
@keyframes blinker {
  50% { opacity: .6; }
}

/* about:about */
#urlbar[pageproxystate='valid'] #identity-box.unknownIdentity:after {
  background: #a4000f;
}
/* fix for mixedDisplayContentLoadedActiveBlocked */
#urlbar[pageproxystate='valid'] #identity-box.mixedDisplayContentLoadedActiveBlocked:after {
  background: var(--toolbar-bgcolor);
}
/* about:config and moz-extension:* */
#urlbar[pageproxystate='valid'] #identity-box.chromeUI:after,
#urlbar[pageproxystate='valid'] #identity-box.extensionPage:after {
  background: #0a84ff;
}

/* https://www.github.com/ */
#urlbar[pageproxystate='valid'] #identity-box.verifiedIdentity:after{
  background: #058b00;
}
/* https://mixed.badssl.com/ */
#urlbar[pageproxystate='valid'] #identity-box.mixedDisplayContent:after {
  background: #f0dc00;
}

/* https://self-signed.badssl.com/ but add certificate exception */
#urlbar[pageproxystate='valid'] #identity-box.notSecure:after,
#urlbar[pageproxystate='valid'] #identity-box.weakCipher:after,
#urlbar[pageproxystate='valid'] #identity-box.certUserOverridden:after,
#urlbar[pageproxystate='valid'] #identity-box.mixedActiveContent:after {
  background: #a4000f;
}

/* http://badssl.com/ */
#urlbar[pageproxystate='valid'] #identity-box.insecureLoginForms:after {
  background: #a4000f;
  opacity: 1;
  animation: blinker 1.6s linear infinite;
}
